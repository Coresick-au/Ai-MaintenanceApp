@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom styles for react-datepicker to match the dark theme */
.react-datepicker {
  @apply bg-slate-800 text-slate-100 border border-slate-700 rounded-lg shadow-lg;
  font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
}

.react-datepicker__header {
  @apply bg-slate-700 border-b border-slate-600 rounded-t-lg;
  padding-top: 0.8em;
}

.react-datepicker__current-month,
.react-datepicker__day-name {
  @apply text-slate-200;
}

.react-datepicker__navigation--previous,
.react-datepicker__navigation--next {
  @apply text-blue-400 hover:bg-slate-600 rounded;
}

.react-datepicker__day {
  @apply text-slate-300 hover:bg-blue-700 hover:text-white rounded;
}

.react-datepicker__day--selected,
.react-datepicker__day--keyboard-selected {
  @apply bg-blue-600 text-white rounded;
}

.react-datepicker__day--outside-month {
  @apply text-slate-400 opacity-50;
}

.react-datepicker__day--weekend {
  @apply text-red-300;
}

.react-datepicker__day--disabled {
  @apply text-slate-400 cursor-not-allowed;
}

.react-datepicker__week-number {
  @apply text-slate-400;
}

.react-datepicker__input-container input {
  @apply bg-slate-900 text-slate-100 text-white border-slate-600;
  /* Ensure input field itself matches EditableCell styling */
}

/* Dropdown Styles for Year/Month */
.react-datepicker__header__dropdown select {
  @apply bg-slate-700 text-white border border-slate-600 rounded p-1;
}

.react-datepicker__year-dropdown,
.react-datepicker__month-dropdown,
.react-datepicker__month-year-dropdown {
  @apply bg-slate-800 border border-slate-700 text-white;
}

.react-datepicker__year-option,
.react-datepicker__month-option,
.react-datepicker__month-year-option {
  @apply hover:bg-slate-700;
}

.react-datepicker__year-option--selected,
.react-datepicker__month-option--selected,
.react-datepicker__month-year-option--selected {
  @apply bg-blue-600 font-bold;
}

/* Standard Date Input Calendar Icon Styling */
input[type="date"]::-webkit-calendar-picker-indicator {
  cursor: pointer;
  filter: invert(0.8);
  /* Make icon light for dark backgrounds */
}

.dark input[type="date"]::-webkit-calendar-picker-indicator {
  filter: invert(0.8);
}


/* Styling for popper to ensure it sits above other content */
.react-datepicker-popper {
  z-index: 9999;
}

:root {
  /* ========================================
     3-LAYER BACKGROUND SYSTEM
     ======================================== */
  --bg-app: #0a1220;        /* Layer 1: App shell (darkest) */
  --bg-surface: #0f1b2d;    /* Layer 2: Cards, tables, filters */
  --bg-active: #162743;     /* Layer 3: Hover, selected, interactive */

  /* Text Hierarchy */
  --text-primary: #e5e7eb;   /* Almost white - main content */
  --text-secondary: #9ca3af; /* Muted grey - secondary info */
  --text-muted: #6b7280;     /* Dim - labels, placeholders */

  /* Single Accent Color (Cyan) */
  --accent: #22d3ee;         /* cyan-400 */
  --accent-hover: #67e8f9;   /* cyan-300 */

  /* Status Colors (Desaturated for calm UI) */
  --status-green: #22c55e;   /* Invoiced, Paid, Completed */
  --status-blue: #3b82f6;    /* In Progress, Quoted */
  --status-yellow: #eab308;  /* Parts Required/Ordered */
  --status-orange: #f97316;  /* Ready for Invoicing */
  --status-red: #ef4444;     /* Overdue, Cancelled */
  --status-grey: #64748b;    /* Neutral/Unknown */

  /* Borders */
  --border-subtle: rgba(255, 255, 255, 0.05);
  --border-default: rgba(255, 255, 255, 0.10);
}

body {
  background-color: var(--bg-app);
  color: var(--text-primary);
  font-family: 'Inter', 'Roboto', 'Segoe UI', sans-serif;
}

h1,
h2,
h3 {
  font-family: 'Inter', 'Roboto', sans-serif;
  font-weight: 700;
}

/* Custom Scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background-color: var(--bg-secondary);
}

::-webkit-scrollbar-thumb {
  background-color: var(--slate-700);
  border-radius: 4px;
  border: 1px solid rgba(148, 163, 184, 0.1);
}

::-webkit-scrollbar-thumb:hover {
  background-color: var(--slate-600);
}

/* Custom thin scrollbar for specific containers */
.custom-scrollbar::-webkit-scrollbar { width: 8px; height: 8px; }
.custom-scrollbar::-webkit-scrollbar-track { background: #0f172a; }
.custom-scrollbar::-webkit-scrollbar-thumb { background: #334155; border-radius: 999px; }
.custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #475569; }

/* Firefox */
.custom-scrollbar { scrollbar-width: thin; scrollbar-color: #334155 #0f172a; }

/* Softer Glow Utilities */
.glow-teal {
  box-shadow: 0 0 10px rgba(6, 182, 212, 0.3);
}

.glow-blue {
  box-shadow: 0 0 10px rgba(14, 165, 233, 0.3);
}

/* =========================================
   PRINT STYLES - Override Dark Mode
   ========================================= */

@media print {

  /* Higher specificity overrides for print-content container */
  .print-content .bg-slate-800,
  .print-content .bg-slate-900,
  .print-content .bg-slate-700 {
    background-color: white !important;
    background-image: none !important;
  }

  /* Override body and main container backgrounds */
  body,
  .bg-slate-800,
  .bg-slate-900,
  .bg-slate-700 {
    background-color: white !important;
    background-image: none !important;
  }

  /* Higher specificity text color overrides */
  .print-content .text-slate-100,
  .print-content .text-slate-200,
  .print-content .text-slate-300,
  .print-content .text-slate-400 {
    color: black !important;
  }

  /* Default text to black, but allow specific color classes */
  body {
    color: black !important;
  }

  /* Preserve heading and important text */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    color: black !important;
  }

  /* Preserve table text */
  table,
  th,
  td {
    color: black !important;
  }

  /* Preserve status badge backgrounds and text colors */
  .bg-red-100 {
    background-color: #fee2e2 !important;
  }

  .bg-amber-100 {
    background-color: #fef3c7 !important;
  }

  .bg-green-100 {
    background-color: #d1fae5 !important;
  }

  .bg-blue-100 {
    background-color: #dbeafe !important;
  }

  /* Preserve status text colors */
  .text-red-800,
  .text-red-900 {
    color: #991b1b !important;
  }

  .text-amber-800,
  .text-amber-900 {
    color: #92400e !important;
  }

  .text-green-800,
  .text-green-900 {
    color: #065f46 !important;
  }

  .text-blue-600 {
    color: #2563eb !important;
  }

  /* Borders should be visible */
  .border,
  .border-t,
  .border-b,
  .border-l,
  .border-r {
    border-color: #d1d5db !important;
  }

  .print-content .border-slate-600,
  .print-content .border-slate-700,
  .print-content .border-slate-800,
  .print-content .border-slate-900 {
    border-color: #d1d5db !important;
  }

  .print-content .divide-slate-200 > * + * {
    border-color: #d1d5db !important;
  }

  /* Print content isolation - only print the inner document */
  .print-content > :not(.print-content-inner) {
    display: none !important;
  }

  /* Ensure the inner content takes full width in print */
  .print-content .print-content-inner {
    position: static !important;
    width: 100% !important;
    max-width: none !important;
    height: auto !important;
    overflow: visible !important;
    background: white !important;
  }

  .border-red-200 {
    border-color: #fecaca !important;
  }

  .border-amber-200 {
    border-color: #fde68a !important;
  }

  .border-green-200 {
    border-color: #a7f3d0 !important;
  }

  /* Hide non-printable elements */
  .no-print,
  .print\:hidden {
    display: none !important;
  }

  /* Remove shadows */
  * {
    box-shadow: none !important;
  }

  /* Ensure proper page breaks */
  .break-inside-avoid {
    page-break-inside: avoid;
    break-inside: avoid;
  }

  /* Tables should print correctly */
  table {
    border-collapse: collapse !important;
  }

  th,
  td {
    border: 1px solid #d1d5db !important;
    padding: 0.5rem !important;
  }

  thead {
    display: table-header-group;
  }

  /* Remove rounded corners */
  .rounded,
  .rounded-lg,
  .rounded-xl {
    border-radius: 0 !important;
  }

  /* Ensure text is readable */
  body {
    font-size: 12pt;
    line-height: 1.5;
  }

  h1 {
    font-size: 24pt;
  }

  h2 {
    font-size: 18pt;
  }

  h3 {
    font-size: 14pt;
  }

  /* Ensure links are visible */
  a {
    text-decoration: underline;
    color: black !important;
  }
}